package bbs.action;

import javax.servlet.ServletContext;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class writeAction implements Action {

	@Override
	public String execute(HttpServletRequest request, HttpServletResponse response) {
		
		String viewPath = "/bbs/write.jsp";
		
		//현재 영역은 get방식으로 요청되었을 때는 write.jsp로 페이지 이동
		//그게 아니라 post 방식이면서 파일 첨부가 되었다면 파라미터들을 받아서
		//DB에 저장해야합니다.
		
		/*
		 * String method = request.getMethod(); if(!method.equalsIgnoreCase("get")) {
		 * //get이 대문자로 넘어온다 //파라미터 받아서 DB작업을 하자. post로 왔으니까 , 이부분은 알고있는 내용 }
		 */
		
		String c_type = request.getContentType();
		//이러면 write에 enc 타입이 들어온다
		/* System.out.println(c_type); */
		
		if(c_type != null && c_type.startsWith("multipart")) {
			//이 부분이 파라미터 받아서 db에 저장하는 형태
			//파라미터는 multipart request로 받아야한다.
			try {
				
				//첨부파일을 저장할 폴더를 절대 경로화해야한다 어플리케이션이 있어야한다. 있어봐야 request, response 뿐 하지만 request로 구할 수 있다
				//어플리케이션의 자료형은 자동완성하면 서블릿 컨텍스트 타입이다 이걸 받아내자
				ServletContext application = request.getServletContext();
				
				
				
			} catch (Exception e) {
				// TODO: handle exception
			}
			
		}
		
		return viewPath;
	}

}
